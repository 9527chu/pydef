{% extends "base.html" %}
{% block title %}{% endblock %}

{% block content %}




<div class="row" style="margin-top:50px;">
  <div class="span5 offset1" style="margin-left:120px;">
  
    <div class="row">
       <div class="span3">
        <h4>函数名:<a href="" >{{quse.funct.name}}</a> </h4>
       </div>
       <div class="span2" style="margin-left:-10px;margin-top:15px;">
         <form method="post" action="/search/category/" style="display:none" name="mk">
        <input type="hidden" value="{{funct.module.name}}" name="op">        
          </form>
         <a  onclick="document.mk.submit();" >{{quse.funct.module.name}}</a>
       </div>
       
      </div>
     
      <div>
        <table class="table table-condensed" style="width:330px;">
            <tr class="warning">
              <td style="width:70px">语法格式：</td>
              <td>{{quse.funct.format}}</td>                          
            </tr>
            <tr class="info">
              <td>函数说明：</td>
              <td>{{quse.funct.intro}}</td>                          
            </tr>
            
        </table>
        示例：
         <table class="table table-condensed" style="width:330px;">
            <tr class="error">
              <td style="width:60px">input>></td>
              <td>{{quse.funct.inputs}}</td>                          
            </tr>
            <tr class="success">
              <td>output>></td>
              <td>{{quse.funct.outputs}}</td>                          
            </tr>
            
        </table>
       <div class="row">
        
        
          <div class="span2 ">贡献者:<a href="" >@{{quse.funct.user.username}}</a></div>
          <div class="span2 offset1" >
          <form action="/search/like/" method="post" name="like" style="display:none">
           <input type="text" value="{{quse.funct.id}}" name="lk">
           <input type="text" value="{{rp}}?q_id={{quse.id}}" name="rp">
          </form>
         
          <img src="/statics/picture/heart.png" title="赞同" onclick="document.like.submit();">
             <strong>+</strong>
           
          {{quse.funct.fans}}
          
           
           </div>
          
        
        </div>      
      </div>      
    
      <div style="margin-top:20px;">
       提出您的疑问和建议：
       <form method="post" action="/search/detail/?id={{quse.funct.id}}">
         <textarea rows="4"  name="cont" style="width:300px;"></textarea><br/>
         <input type="hidden" name="id" value="{{quse.funct.id}}">
         <input type="hidden" name="name" value="@{{quse.funct.user.username}}">
         <button class="btn btn-success">提交</button>
       </form>

   

    
      </div>


      <div class="row">
      <div class="span1 offset3">
       <a href="/search/"  title="返回查询首页"><i class="icon-hand-left"></i>返回</a>
      </div>
      </div>
    

   </div>
  
  
  <div class="span4" style="margin-left:80px;">
  
  
   
       相关讨论：
     <hr/ style="width:300px;margin-top:0px;">
     
     
     
        
     

 
   <div >
   

   
     <div class="row" style="width:350px;margin-left:-30px;">
     
     
      <p class="text-error"> 问题{{quse.id}}：</p>                    
         <blockquote >
        <p>{{quse.content}}</p>
        <small>@ <cite title="Source Title">{{quse.user.username}}</cite></small> 
        </blockquote>   
         	
          
        
        <div id="answer">
        
        {%for as in ans%}   
        <div style="margin-bottom:40px;">
        <p class="text-warning"> 答：</p>
        <blockquote class="pull-right" style="margin-top:-10px;">        
        <p>{{as.content}}</p>
        <small>@ <cite title="Source Title">{{as.user.username}}</cite></small>
        </blockquote>
        </div>
         {%endfor%}  
        
        <div style="margin-top:100px;">
        <a onclick="disform();" >回答</a>
        </div>
        </div>
         
         <div style="display:none ;margin-top:140px;" id="ansform">
            <form method="post" action="/search/qusoffun/ansave/?q_id={{quse.id}}">
              <textarea rows="4"  name="comm" style="width:300px;"></textarea><br/>
      
               <input type="submit" class="btn btn-success" value="发表"> <a onclick="disans();">返回</a>
            </form>
         </div>
       
       
     </div>
     
     
  
   </div>
   
   
   
   
   
    <div >
    
   
     <div class="row">
        <div class="pagination pagination-centered">
          <ul>
                        
           {% if ans.has_previous %}
            <li class="active"><a href="/search/qusoffun/?q_id={{id}}&page={{ ans.previous_page_number }}"><<</a></li>
            {% else %}
            <li class="disabled"><a ><<</a></li>
            {% endif %}
            
            {% for i in a_list %}
              {% if i == ans.number %}
            <li class="disabled"><a >{{i}}</a></li>
               {% else %}    
            <li class="active"><a href="/search/qusoffun/?q_id={{id}}&page={{i}}">{{i}}</a></li>
               {% endif %} 
              {% endfor %}
            {% if ans.has_next %}      
            <li class="active"><a href="/search/qusoffun/?q_id={{id}}&page={{ ans.next_page_number }}">>></a></li>
               {% else%}    
           <li class="disabled"><a >>></a></li>
               {% endif %}   
          </ul>
        </div>
      </div>
    
    </div>
    
      
  </div>
    
    
    
    
    
    
    
  </div>





<script type="text/javascript">
function nextpage(){
    p = new XMLHttpRequest()
    p.open('GET','/turnpage/',true)
    p.send();
    document.getElementById("myDiv").innerHTML=p.responseText;
    
} 
function disform(){
  ansform = document.getElementById('ansform');
  answer = document.getElementById('answer');
  answer.style.display = "none";
  ansform.style.display="block";
  


}
function disans(){
  ansform = document.getElementById('ansform');
  answer = document.getElementById('answer');
  answer.style.display = "block";
  ansform.style.display="none";

}




</script>











{%endblock%}